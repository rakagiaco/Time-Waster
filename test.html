<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phaser Test</title>
    <style>
        body { margin: 0; padding: 20px; background: #333; color: white; font-family: Arial, sans-serif; }
        #gameContainer { border: 2px solid #fff; margin: 20px auto; display: block; }
        .debug { background: #000; padding: 10px; margin: 10px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Phaser Test Page</h1>
    <div class="debug">
        <strong>Debug Info:</strong><br>
        <span id="phaser-version">Phaser Version: Loading...</span><br>
        <span id="game-status">Game Status: Not Started</span><br>
        <span id="error-log">Errors: None</span>
    </div>
    
    <div id="gameContainer"></div>
    
    <div class="debug">
        <strong>Console Output:</strong><br>
        <div id="console-output" style="background: #111; padding: 10px; height: 200px; overflow-y: scroll; font-family: monospace; font-size: 12px;"></div>
    </div>

    <script type="module">
        // Override console methods to capture output
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;
        
        const consoleOutput = document.getElementById('console-output');
        
        function addToConsole(type, ...args) {
            const line = document.createElement('div');
            line.style.color = type === 'error' ? '#ff6b6b' : type === 'warn' ? '#ffd93d' : '#6bcf7f';
            line.textContent = `[${new Date().toLocaleTimeString()}] ${type.toUpperCase()}: ${args.join(' ')}`;
            consoleOutput.appendChild(line);
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        console.log = (...args) => {
            originalLog.apply(console, args);
            addToConsole('log', ...args);
        };
        
        console.error = (...args) => {
            originalError.apply(console, args);
            addToConsole('error', ...args);
        };
        
        console.warn = (...args) => {
            originalWarn.apply(console, args);
            addToConsole('warn', ...args);
        };
        
        // Test basic Phaser import
        try {
            console.log('Testing Phaser import...');
            import('./src/main.ts').then(() => {
                console.log('Main module loaded successfully');
                document.getElementById('game-status').textContent = 'Game Status: Main Module Loaded';
            }).catch(error => {
                console.error('Failed to load main module:', error);
                document.getElementById('game-status').textContent = 'Game Status: Main Module Failed';
                document.getElementById('error-log').textContent = `Errors: ${error.message}`;
            });
        } catch (error) {
            console.error('Failed to start import:', error);
            document.getElementById('game-status').textContent = 'Game Status: Import Failed';
            document.getElementById('error-log').textContent = `Errors: ${error.message}`;
        }
    </script>
</body>
</html>
